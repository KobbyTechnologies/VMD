{% extends 'base.html' %}
{% load static %}
{% block base %}


<!--Header-->
{% include 'navbar.html' %}
<!-- End Header -->

<!-- Sidebar-->
{% include 'sidebar.html' %}
<!-- End Sidebar -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
    integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />

<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />


<main id="main" class="main">
    <div class="pagetitle">
        <h1>Application P0000002</h1>
        <nav>
    </div>
    <section class="section dashboard mt-4">
        <div class="row">
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-6 mb-2">
                        <div class="card Startcard h-100 l-bg-cherry">
                            <div class="card-statistic-3 p-4">
                                <div class="card-icon card-icon-large"><i class="fas fa-edit"></i></div>
                                <div class="mb-4">
                                    <h5 class="card-title mb-0">Product Reg. No.</h5>
                                </div>
                                <div class="row align-items-center mb-2 d-flex">
                                    <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                            P0000002
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="card Startcard l-bg-blue-dark h-100">
                            <div class="card-statistic-3 p-4">
                                <div class="card-icon card-icon-large"><i class="fas fa-edit"></i></div>
                                <div class="mb-4">
                                    <h5 class="card-title mb-0">Business Reg. No.</h5>
                                </div>
                                <div class="row align-items-center mb-2 d-flex">
                                    <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                            159
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-2">
                        <div class="card Startcard l-bg-green-dark h-100">
                            <div class="card-statistic-3 p-4">
                                <div class="card-icon card-icon-large"><i class="fas fa-ticket-alt"></i></div>
                                <div class="mb-4">
                                    <h5 class="card-title mb-0">Application Status</h5>
                                </div>
                                <div class="row align-items-center mb-2 d-flex">
                                    <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                            Open
                                        </h2>
                                    </div>
                                </div>
                                <div class="progress mt-1 " data-height="8" style="height: 8px;">
                                    <div class="progress-bar l-bg-orange" role="progressbar" data-width="25%"
                                        aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width: 25%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="card Startcard l-bg-orange-dark h-100">
                            <div class="card-statistic-3 p-4">
                                <div class="card-icon card-icon-large"><i class="fas fa-dollar-sign"></i></div>
                                <div class="mb-4">
                                    <h5 class="card-title mb-0">Payment Balance</h5>
                                </div>
                                <div class="row align-items-center mb-2 d-flex">
                                    <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                            $11.61k
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card ">
                    <h5 class="card-header">Attachments</h5>
                    <div class="card-body activity bg-reds mr-3">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                        <hr class="dropdown-divider">
                        <ul class="list-inline my-2">
                            <li class="list-inline-item">Document 1</li>
                            <li class="list-inline-item px-2" style="float: right;"><i
                                    class="fas fa-download text-primary"></i></li>
                            <li class="list-inline-item" style="float: right;"><i
                                    class="fas fa-trash-alt text-danger"></i> </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-12">
                        <form class="row g-2 bg-white my-2 p-2">
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Business Registration Number</label>
                                <input type="text" class="form-control" placeholder="P0000002" readonly>
                            </div>
                        </form>
                        {% if state == 1 %}
                        <div class="myForm my-3">
                            <form action="{% url 'RepairApprove' res.No_ %}" method="POST"
                                style="display: inline-block;">
                                {% csrf_token %}
                                <div class="mb-3">
                                    <input type="hidden" hidden name="requistionNo" value="{{res.No_}}">
                                </div>
                                <button class="btn btn-info" type="submit">Request For Approval</button>
                            </form>
                        </div>
                        {% elif state == 2 %}
                        <div class="d-grid gap-2 my-3">
                            <form action="{% url 'RepairCancel' res.No_ %}" method="POST" class="myForm"
                                id="approvalForm">
                                {% csrf_token %}
                                <div class="mb-3">
                                    <input type="hidden" hidden name="requistionNo" value="{{res.No_}}">
                                </div>
                                <button class="btn btn-info" type="submit">Cancel Request For Approval</button>
                            </form>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card" style="height: 300px; width:100%;">
                    <div class="card-body pb-0">
                        <h5 class="card-title">Upload Attachments</span></h5>
                        <form action="{% url 'pharmDetails' %}" class="dropzone dz" id="specialist-dropzone"
                            method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="fallback">
                                <input name="file" class="form-control" name="attachment" type="file" multiple />
                                <button type="submit" class="btn btn-primary my-2">Submit</button>
                            </div>
                        </form>

                    </div>
                </div>
                <a href="{% url 'PaymentGateway' %}" type="button" class="btn btn-primary w-100">Proceed To Payment</a>
            </div>
        </div>

    </section>
</main>
<script>
    Dropzone.autoDiscover = false;
    const myDropzone = new Dropzone('#specialist-dropzone', {
        url: '{% url "pharmDetails" %}',
        method: "post",
        paramName: "attachment",
        maxFiles: 10,
        clickable: true,
        dictDefaultMessage: "Click or Drag and Drop files here to upload",
        dictFallbackMessage: "Your browser does not support drag and drop file uploads.",
        dictFallbackText: "Please use the fallback form below to upload your files.",
        dictResponseError: "Server responded with {{statusCode}} code.",
        dictCancelUpload: "Cancel upload",
        dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?",
        dictRemoveFile: "Remove",
        dictRemoveFileConfirmation: null,
        dictMaxFilesExceeded: "You can only upload {{maxFiles}} files.",
    })
</script>
{% include 'footer.html' %}

{% endblock %}